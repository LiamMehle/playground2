// brez tega bi mogel uporabljati syscalls
// tej, so pa odvisni od sistema
#include <stdio.h>

static inline  void swap(char* const a, char* const b) {
    const char old_a = *a;
    *a = *b;
    *b = old_a;
}

static inline size_t strlen(const char* const str) {
    size_t len = 0;
    while(str[len] != '\0')
        len++;
    return len;
}

void print_permutations_internal(char* const str, const size_t len, const size_t index) {
    if(index+1 == len)
        printf("%s\n", str);
    // find all possible values for str[index]
    for(size_t i = index; i < len; i++) {
        swap(&str[index], &str[i]);
        print_permutations_internal(str, len, index+1);
        swap(&str[index], &str[i]);
    }
}

void print_permutations(char* const str, size_t len) {
    print_permutations_internal(str, len, 0);
}

int main() {
    char str[] = "IZPIT";
    const size_t len = strlen(str);
    print_permutations(str, len);
    return 0;
}